# 2ì°¨ ì„¸ë¯¸ë‚˜ _ ì„±ì¥ê³¼ì œ 1

ğŸ“Œ **RecyclerView - GridLayout ì´ìš©í•´ë³´ê¸° **

recyclerviewì˜ layoutì„ GridLayoutManagerë¥¼ ì´ìš©í•˜ì—¬ ì›¹íˆ° ë·° ì§œë³´ê¸°

<br>

<br>

## ğŸ‘©ğŸ»â€ğŸ’»**ì™„ì„±í™”ë©´**ğŸ‘©ğŸ»â€ğŸ’»

<br>

<img src = "https://user-images.githubusercontent.com/45454585/80562062-83528a80-8a21-11ea-8835-7d51b24c5dc3.png" alt ="webtoon" width="40%">





## ğŸ‘©ğŸ»â€ğŸ’»**êµ¬í˜„ë°©ì‹**ğŸ‘©ğŸ»â€ğŸ’»

<br>

â¡ï¸ 2ì°¨ ì„¸ë¯¸ë‚˜ ê¸°ë³¸ê³¼ì œ 1,2 RecyclerView ë§Œë“œëŠ” ë°©ì‹ê³¼ ë™ì¼ !

â€‹	[2ì°¨ì„¸ë¯¸ë‚˜ ê¸°ë³¸ê³¼ì œ 1,2 ë¦¬ë“œë¯¸](https://github.com/yunakim2/SOPT_26_Android/blob/master/SecondSemina_Homework/2%EC%B0%A8%EC%84%B8%EB%AF%B8%EB%82%98_%20%EA%B8%B0%EB%B3%B8%EA%B3%BC%EC%A0%9C%201%262.md)

<br>

âœ”ï¸ **activity_main.xml**

~~~xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity">


    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rv_webtoon"
        android:clipToPadding="false"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintBottom_toBottomOf="parent"
          />
</androidx.constraintlayout.widget.ConstraintLayout>
~~~

<br>

âœ”ï¸ **item_webtoon.xml**

(ë¦¬ì‚¬ì´í´ëŸ¬ë·°ì— ë“¤ì–´ê°ˆ ë°˜ë³µë˜ëŠ” ì•„ì´í…œì˜ ë·°)

<br>

â€¼ï¸ Button ì— ***android:visibility="gone"*** ì†ì„± ë„£ì–´ì£¼ê¸° 

<br>

â€‹	(Update ë˜ëŠ” ì›¹íˆ°ì—ë§Œ Buttonì„ í‘œì‹œí•´ì£¼ê¸° ìœ„í•´ì„œ)

~~~xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <ImageView
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:id="@+id/img_contents"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintDimensionRatio="1:1"
        app:layout_constraintRight_toRightOf="parent"
        android:scaleType="centerCrop"
        android:src="@drawable/ic_launcher_foreground"/>

    <TextView
        android:id="@+id/tv_title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        app:layout_constraintTop_toBottomOf="@id/img_contents"
        app:layout_constraintLeft_toLeftOf="parent"
        android:text="title"
        android:textSize="16sp"
        android:textStyle="bold"
        android:textColor="#000000"
        android:layout_marginLeft="10dp"
        android:layout_marginTop="10dp"/>

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/tv_star"
        app:layout_constraintTop_toBottomOf="@id/tv_title"
        app:layout_constraintLeft_toLeftOf="parent"
        android:text="â˜…"
        android:textColor="@color/colorPrimary"
        android:layout_marginLeft="10dp"/>
    <Button
        android:id="@+id/btn_update"
        android:layout_width="30dp"
        android:layout_height="20dp"
        android:text="btn"
        android:textSize="10sp"
        android:layout_marginLeft="10dp"
        android:visibility="gone"
        android:background="@drawable/btn_style"
        app:layout_constraintLeft_toRightOf="@id/tv_star"
        app:layout_constraintTop_toBottomOf="@id/tv_title"/>

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/tv_subtitle"
        app:layout_constraintTop_toBottomOf="@id/tv_star"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintBottom_toBottomOf="parent"
        android:layout_marginLeft="10dp"
        android:text="ddd"
        android:layout_marginBottom="10dp"/>


</androidx.constraintlayout.widget.ConstraintLayout>
~~~

<br>

<img width="70%" alt="webtoonItem" src="https://user-images.githubusercontent.com/45454585/80562454-c3fed380-8a22-11ea-82cc-86bae4d57412.png">

<br>

âœ”ï¸ **btn_style.xml** ('UP'ë²„íŠ¼ì˜ background)

~~~xml
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">

    <stroke android:color="@color/colorPrimary"
        android:width="1dp"/>
    <corners android:radius="15dp"/>

</shape>
~~~

<br>

âœ”ï¸ **WebtoonData.kt**

~~~kotlin
package com.example.a2_semina_assignment

data class WebtoonData(
    val img : String,
    val title : String,
    val star : String,
    val subtitle :String,
    val update : String
)
~~~

<br>

âœ”ï¸ **WebtoonViewHolder.kt**

~~~kotlin
package com.example.a2_semina_assignment

import android.view.View
import android.widget.Button
import android.widget.ImageView
import android.widget.TextView
import androidx.core.view.isGone
import androidx.recyclerview.widget.RecyclerView
import com.bumptech.glide.Glide
import org.w3c.dom.Text

class WebtoonViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView) {

    val img : ImageView = itemView.findViewById(R.id.img_contents)
    val title : TextView = itemView.findViewById(R.id.tv_title)
    val star : TextView = itemView.findViewById(R.id.tv_star)
    val subtitle : TextView = itemView.findViewById(R.id.tv_subtitle)
    val update : Button = itemView.findViewById(R.id.btn_update)

    fun bind(webtoonData : WebtoonData)
    {
        title.text = webtoonData.title
        star.text = webtoonData.star
        subtitle.text = webtoonData.subtitle
        Glide.with(itemView).load(webtoonData.img).into(img)
        update.text = webtoonData.update
      //update.textê°€ ""ì´ ì•„ë‹ˆë¼ë©´ updateBtnì„ í‘œì‹œí•´ì£¼ê¸° ìœ„í•´ì„œ  
      if (!update.text.toString().isNullOrBlank()) update.visibility = itemView.visibility

    }
}
~~~

<br>

âœ”ï¸ **WebtoonAdapter.kt**

~~~kotlin
package com.example.a2_semina_assignment

import android.content.Context
import android.view.LayoutInflater
import android.view.ViewGroup
import androidx.recyclerview.widget.RecyclerView


class WebtoonAdapter(private val context: Context) : RecyclerView.Adapter<WebtoonViewHolder>() {
    var datas = mutableListOf<WebtoonData>()

    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): WebtoonViewHolder {
        val view = LayoutInflater.from(context).inflate(R.layout.item_webtoon,parent,false)
        return WebtoonViewHolder(view)
    }

    override fun getItemCount(): Int {
        return datas.size
    }

    override fun onBindViewHolder(holder: WebtoonViewHolder, position: Int) {
        holder.bind(datas[position])
    }

}

~~~



âœ”ï¸ **MainActivity.kt**

<br>

â€¼ï¸ **rv_webtoon.layoutManager = GridLayoutManager(this,3,RecyclerView.VERTICAL,false)**

GridLayoutManager(context , spanCount(í•œì¤„ì— ë“¤ì–´ê°ˆ ì•„ì´í…œ ê°œìˆ˜),RecyclerView.VERTICAL or RecyclerView.HORIZONTAL , false)

<br>

~~~kotlin
package com.example.a2_semina_assignment

import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import androidx.recyclerview.widget.GridLayoutManager
import androidx.recyclerview.widget.RecyclerView
import kotlinx.android.synthetic.main.activity_main.*

class MainActivity : AppCompatActivity() {

    lateinit var webtoonAdapter: WebtoonAdapter
    val datas = mutableListOf<WebtoonData>()
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        init()
    }
    fun init()
    {
        webtoonAdapter = WebtoonAdapter(this)
        rv_webtoon.adapter = webtoonAdapter
      // GridLayoutManagerì„ ì´ìš©í•œë‹¤.
        rv_webtoon.layoutManager = GridLayoutManager(this,3,RecyclerView.VERTICAL,false)
        loadDatas()

    }
    private fun loadDatas()
    {
        datas.apply {
            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                , title = "ë§Œí™”ì œëª©1",
                star = "â˜… 9.95",
                subtitle = "ìœ ë‚˜í‚´1",
                update = ""))
            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                    , title = "ë§Œí™”ì œëª©2",
                    star = "â˜… 9.91",
                    subtitle = "ìœ ë‚˜í‚´2",
                update = "UP"))

            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                    , title = "ë§Œí™”ì œëª©3",
                    star = "â˜… 9.00",
                    subtitle = "ìœ ë‚˜í‚´3",
                update = ""))

            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                    , title = "ë§Œí™”ì œëª©5",
                    star = "â˜… 4.95",
                    subtitle = "ìœ ë‚˜í‚´5",
                update = "UP"))
            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                    , title = "ë§Œí™”ì œëª©6",
                    star = "â˜… 5.95",
                    subtitle = "ìœ ë‚˜í‚´6",
                    update = "UP"))
            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                    , title = "ë§Œí™”ì œëª©7",
                    star = "â˜… 8.94",
                    subtitle = "ìœ ë‚˜í‚´7",
                    update = "UP"))
            add(
                    WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                        , title = "ë§Œí™”ì œëª©8",
                        star = "â˜… 9.92",
                        subtitle = "ìœ ë‚˜í‚´8",
                        update = ""))
            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                    , title = "ë§Œí™”ì œëª©9",
                    star = "â˜… 1.95",
                    subtitle = "ìœ ë‚˜í‚´9",
                    update = ""))
            add(
                WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                    , title = "ë§Œí™”ì œëª©10",
                    star = "â˜… 10.0",
                    subtitle = "ìœ ë‚˜í‚´10",
                    update = ""))
            add(
                    WebtoonData(img = "ì´ë¯¸ì§€ url ì£¼ì†Œ"
                        , title = "ë§Œí™”ì œëª©11",
                        star = "â˜… 4.95",
                        subtitle = "ìœ ë‚˜í‚´11",
                        update = ""))

            webtoonAdapter.datas = datas
            webtoonAdapter.notifyDataSetChanged()


        }
    }
}

~~~

<br>

<br>